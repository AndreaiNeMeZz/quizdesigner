<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interattivo: Flusso di Lavoro Grafico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .quiz-container {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        .option-btn {
            transition: all 0.3s ease;
        }
        .option-btn:hover:not([disabled]) {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .correct-answer {
            background-color: #22c55e !important;
            color: white !important;
            border-color: #16a34a !important;
            transform: scale(1.05);
        }
        .incorrect-answer {
            background-color: #ef4444 !important;
            color: white !important;
            border-color: #dc2626 !important;
        }
        .rationale {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out, margin-top 0.5s ease-out;
            opacity: 0;
            margin-top: 0;
        }
        .rationale.show {
            max-height: 200px;
            opacity: 1;
            margin-top: 1rem;
        }
        #progress-bar-inner {
            transition: width 0.5s ease-out;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quiz-app" class="w-full max-w-2xl mx-auto">

        <!-- Start Screen -->
        <div id="start-screen" class="text-center">
            <div class="quiz-container p-8 rounded-2xl shadow-2xl">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">Quiz sul Flusso Grafico</h1>
                <p class="text-gray-600 mb-8">Metti alla prova la tua conoscenza del manuale operativo. Clicca per iniziare!</p>
                <button id="start-btn" class="w-full bg-blue-600 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-blue-700 transition-all text-lg transform hover:scale-105">
                    Inizia il Quiz
                </button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="quiz-container p-6 sm:p-8 rounded-2xl shadow-2xl">
                <!-- Progress Bar -->
                <div class="mb-6">
                    <div id="progress-text" class="text-sm font-semibold text-gray-600 mb-2 text-right">Domanda 1 / 10</div>
                    <div id="progress-bar" class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar-inner" class="bg-blue-600 h-2.5 rounded-full" style="width: 10%"></div>
                    </div>
                </div>

                <!-- Question -->
                <h2 id="question-text" class="text-2xl font-bold text-gray-800 mb-6 min-h-[100px]"></h2>

                <!-- Options -->
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Options will be injected by JS -->
                </div>
                
                <!-- Hint & Next Button -->
                <div class="mt-8 flex flex-col sm:flex-row items-center justify-between">
                     <button id="hint-btn" class="bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors order-2 sm:order-1 mt-4 sm:mt-0">üí° Mostra suggerimento</button>
                     <button id="next-btn" class="w-full sm:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed order-1 sm:order-2" disabled>Prossima Domanda</button>
                </div>

                <!-- Rationale/Hint Display -->
                <div id="rationale-container" class="rationale bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-400">
                    <p id="rationale-text" class="text-indigo-800"></p>
                </div>
            </div>
        </div>
        
        <!-- Result Screen -->
        <div id="result-screen" class="hidden">
             <div class="quiz-container p-8 rounded-2xl shadow-2xl text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Quiz Completato!</h2>
                <p class="text-gray-600 mb-2">Il tuo punteggio finale √®:</p>
                <p id="score-text" class="text-7xl font-bold text-blue-600 my-4">8 / 10</p>
                <p id="score-feedback" class="text-lg font-semibold mb-8"></p>
                <button id="restart-btn" class="w-full bg-gray-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-gray-800 transition-all text-lg transform hover:scale-105">
                    Riprova il Quiz
                </button>
            </div>
        </div>

    </div>

<script>
const quizData = [
    {
      question: "Un cliente invia per la prima volta un file ZIP contenente loghi e immagini. Secondo il manuale, quale √® la prima azione corretta da compiere?",
      hint: "Pensa alla cartella che funziona come una 'casella di posta' per il materiale non ancora controllato.",
      answerOptions: [
        { text: "Decomprimere lo ZIP e copiare i file direttamente in `Asset Approvati`.", rationale: "Questa azione salta il passaggio di validazione, che √® cruciale. La cartella `Asset Approvati` deve contenere solo materiale gi√† verificato.", isCorrect: false },
        { text: "Salvare il file ZIP cos√¨ com'√® nella cartella `Asset Grezzi`.", rationale: "Questa √® la procedura corretta per la fase di 'Ingestion'. La cartella `Asset Grezzi` accoglie il materiale grezzo senza alcuna modifica iniziale.", isCorrect: true },
        { text: "Caricare il contenuto dello ZIP nella cartella `Stampa` per un controllo rapido.", rationale: "La cartella `Stampa` √® il punto di consegna finale e deve contenere solo file esecutivi pronti per la produzione, non asset di lavoro.", isCorrect: false },
        { text: "Spostare il contenuto dello ZIP nella cartella `_Archivio Versioni Superate`.", rationale: "L'archivio serve per conservare le versioni vecchie degli asset, non per accogliere materiale nuovo.", isCorrect: false }
      ]
    },
    {
      question: "Qual √® la funzione principale della cartella `Asset Approvati`?",
      hint: "Questa cartella √® il cuore del sistema. Come viene definita nel manuale?",
      answerOptions: [
        { text: "Contenere tutte le versioni di un asset, incluse quelle superate.", rationale: "Le versioni superate hanno una loro cartella dedicata, l'archivio. Questa cartella deve rimanere pulita.", isCorrect: false },
        { text: "Essere la libreria centrale e ufficiale da cui i designer devono collegare gli asset.", rationale: "Questa √® esattamente la sua funzione di 'Source of Truth', garantendo che tutti utilizzino sempre l'ultima versione approvata.", isCorrect: true },
        { text: "Un'area di lavoro temporanea per modificare gli asset prima di finalizzarli.", rationale: "Le modifiche e le lavorazioni avvengono nel file di lavoro del designer; questa cartella contiene solo gli asset gi√† finalizzati e approvati.", isCorrect: false },
        { text: "Raccogliere i file esportati pronti per essere inviati al fornitore.", rationale: "Questa √® la funzione della cartella `Stampa`. `Asset Approvati` contiene i componenti, non il prodotto finito.", isCorrect: false }
      ]
    },
    {
      question: "Un designer deve aggiornare il logo in un progetto. La nuova versione del logo si trova in `Asset Grezzi`. Qual √® la sequenza corretta di azioni?",
      hint: "Considera il ciclo di vita di un asset: validazione, uso e archiviazione della vecchia versione.",
      answerOptions: [
        { text: "Sposta il nuovo logo in `Asset Approvati` e cancella quello vecchio.", rationale: "L'azione corretta per la vecchia versione √® spostarla nell'archivio, non cancellarla, per mantenere uno storico.", isCorrect: false },
        { text: "Copia il nuovo logo in `Asset Approvati` e sposta quello vecchio in `_Archivio Versioni Superate`.", rationale: "Questa sequenza rispetta tutte le regole: il nuovo asset viene validato (copiato), e la versione precedente viene correttamente archiviata (spostata).", isCorrect: true },
        { text: "Collega il logo direttamente da `Asset Grezzi` per fare pi√π in fretta.", rationale: "Questa √® una violazione della regola fondamentale. I file di lavoro devono collegare asset esclusivamente da `Asset Approvati`.", isCorrect: false },
        { text: "Copia sia il vecchio che il nuovo logo in `Asset Approvati` per sicurezza.", rationale: "Avere due versioni dello stesso asset in questa cartella crea ambiguit√† e va contro il suo scopo di 'Fonte Unica della Verit√†'.", isCorrect: false }
      ]
    },
    {
      question: "Come deve essere organizzata la struttura interna della cartella `Stampa`?",
      hint: "Pensa a chi √® il destinatario finale dei file contenuti in questa cartella.",
      answerOptions: [
        { text: "In sottocartelle basate sulla tipologia di materiale (Teli, Forex, Adesivi).", rationale: "Questa era una proposta iniziale, ma il manuale finale specifica un'organizzazione diversa, basata sul destinatario.", isCorrect: false },
        { text: "In sottocartelle nominate con il nome esatto del Fornitore.", rationale: "Questa √® la struttura corretta. Ogni fornitore avr√† la sua cartella dedicata per evitare confusioni nella consegna.", isCorrect: true },
        { text: "Tutti i file PDF insieme, senza sottocartelle, per semplicit√†.", rationale: "Questa opzione creerebbe confusione se pi√π fornitori devono accedere alla stessa cartella per lavori diversi.", isCorrect: false },
        { text: "In sottocartelle basate sulla data di esportazione (V1, V2, ecc.).", rationale: "Il manuale specifica esplicitamente che nella cartella `Stampa` non deve esistere alcun tipo di versioning.", isCorrect: false }
      ]
    },
    {
      question: "Qual √® la regola fondamentale per il 'File di Lavoro' del designer (.indd, .ai)?",
      hint: "Questa regola garantisce che, anche se il file di progetto si trova sul computer del designer, il risultato sia sempre corretto.",
      answerOptions: [
        { text: "Deve essere sempre salvato all'interno della cartella `Asset Approvati`.", rationale: "La sua localizzazione √® libera; l'importante √® da dove preleva le risorse, non dove viene salvato.", isCorrect: false },
        { text: "Deve contenere copie incorporate di tutti gli asset per evitare link mancanti.", rationale: "Incorporare gli asset impedirebbe l'aggiornamento automatico se un asset in `Asset Approvati` cambia. I file devono essere collegati.", isCorrect: false },
        { text: "Deve collegare gli asset esclusivamente dalla libreria `Asset Approvati`.", rationale: "Questa √® la regola cruciale che assicura l'integrit√† del progetto, garantendo che si usino sempre e solo le versioni ufficiali.", isCorrect: true },
        { text: "Deve avere lo stesso nome del file PDF che verr√† esportato.", rationale: "Non c'√® una regola specifica sulla corrispondenza dei nomi; l'importante √® il contenuto e i collegamenti.", isCorrect: false }
      ]
    },
    {
      question: "Dopo aver esportato un PDF nella cartella `Stampa/StamperiaRossi/`, ti accorgi di un errore. Cosa fai?",
      hint: "Come si gestisce una revisione nel punto di consegna finale?",
      answerOptions: [
        { text: "Crei una sottocartella `V2` e inserisci l√¨ il nuovo PDF.", rationale: "Il versioning √® esplicitamente vietato nella cartella `Stampa` per evitare ambiguit√† per il fornitore.", isCorrect: false },
        { text: "Lasci il vecchio PDF e aggiungi quello nuovo con il suffisso '_corretto'.", rationale: "Avere due file per lo stesso lavoro nella cartella di consegna √® una fonte sicura di errori di produzione.", isCorrect: false },
        { text: "Sposti il PDF errato nell'archivio e carichi quello nuovo.", rationale: "L'archivio √® per gli asset, non per gli esecutivi di stampa. La procedura per la cartella Stampa √® pi√π drastica.", isCorrect: false },
        { text: "Cancelli il PDF errato e lo sostituisci con la nuova versione corretta.", rationale: "Questa √® la procedura corretta. La cartella `Stampa` deve contenere solo una versione del file: quella giusta.", isCorrect: true }
      ]
    },
    {
      question: "Qual √® lo stato di un file che si trova nella cartella `_Archivio Versioni Superate`?",
      hint: "Pensa alla funzione di questa cartella: √® un componente attivo del progetto o uno storico?",
      answerOptions: [
        { text: "üü¢ Validato, Ufficiale, In Uso.", rationale: "Questo √® lo stato di un file in `Asset Approvati`, ovvero un file correntemente in uso nel progetto.", isCorrect: false },
        { text: "üü° Grezzo, Non Validato.", rationale: "Questo stato appartiene a un file appena ricevuto dal cliente, che si trova in `Asset Grezzi`.", isCorrect: false },
        { text: "‚ö´ Obsoleto, Archiviato.", rationale: "Questo stato descrive perfettamente un file che non √® pi√π in uso ma viene conservato per ragioni storiche.", isCorrect: true },
        { text: "üîµ Finale, Pronto per la Produzione.", rationale: "Questo √® lo stato di un file esecutivo che si trova nella cartella `Stampa`, pronto per il fornitore.", isCorrect: false }
      ]
    },
    {
      question: "Quale azione descrive correttamente il passaggio di un file da `Asset Grezzi` a `Asset Approvati`?",
      hint: "Cosa succede dopo che un file √® stato controllato e ritenuto idoneo?",
      answerOptions: [
        { text: "SPOSTATO", rationale: "Spostare il file eliminerebbe la traccia del file originale ricevuto dal cliente. Si preferisce mantenere l'originale in `Asset Grezzi`.", isCorrect: false },
        { text: "COLLEGATO", rationale: "Il collegamento avviene tra il file di lavoro del designer e la cartella `Asset Approvati`, non tra queste due cartelle.", isCorrect: false },
        { text: "COPIATO", rationale: "L'azione corretta √® copiare, perch√© si crea una versione validata e pulita nella libreria centrale, mantenendo l'originale grezzo al suo posto.", isCorrect: true },
        { text: "ESPORTATO", rationale: "L'esportazione √® l'azione finale che crea il PDF per la stampa, non un passaggio intermedio tra cartelle di asset.", isCorrect: false }
      ]
    },
    {
      question: "Un designer ha appena finito un progetto. Quale tipo di file deve mettere nella cartella `Stampa`?",
      hint: "Pensa a cosa serve effettivamente al fornitore per poter produrre il materiale.",
      answerOptions: [
        { text: "Il file di lavoro `.ai` o `.indd` con tutti gli asset collegati.", rationale: "Il fornitore potrebbe non avere i font o le licenze corrette; ha bisogno di un file 'chiuso' e universale.", isCorrect: false },
        { text: "Un file `.zip` contenente il PDF e tutti gli asset usati.", rationale: "Fornire gli asset separatamente non √® necessario se il PDF √® stato creato correttamente e pu√≤ creare confusione.", isCorrect: false },
        { text: "Un file PDF ad alta risoluzione, pronto per la produzione.", rationale: "Questo √® l'unico formato accettato. √à un file esecutivo, universale e pronto per essere mandato in macchina.", isCorrect: true },
        { text: "Un'immagine `.jpg` di anteprima per approvazione finale.", rationale: "Le anteprime non sono file di produzione. La cartella `Stampa` contiene solo file esecutivi finali.", isCorrect: false }
      ]
    },
    {
      question: "Perch√© la cartella `_Archivio Versioni Superate` √® importante?",
      hint: "Anche se contiene file non pi√π in uso, quale vantaggio offre al team?",
      answerOptions: [
        { text: "Per liberare spazio nella cartella `Asset Approvati`.", rationale: "Sebbene liberi spazio, il suo scopo primario non √® legato alla gestione dello storage ma alla tracciabilit√†.", isCorrect: false },
        { text: "Per fornire al cliente una cronologia di tutte le modifiche.", rationale: "√à uno strumento interno. La sua funzione √® di mantenere uno storico per il team, non necessariamente per il cliente.", isCorrect: false },
        { text: "Per poter recuperare una versione precedente in caso di errori o ripensamenti.", rationale: "Questo √® il suo valore strategico. Fornisce uno storico completo e permette di recuperare versioni passate se necessario.", isCorrect: true },
        { text: "Per dare al fornitore un'idea del lavoro svolto.", rationale: "Il fornitore non deve mai accedere a questa cartella; vedr√† solo il contenuto della cartella `Stampa`.", isCorrect: false }
      ]
    }
];

const startScreen = document.getElementById('start-screen');
const quizScreen = document.getElementById('quiz-screen');
const resultScreen = document.getElementById('result-screen');

const startBtn = document.getElementById('start-btn');
const nextBtn = document.getElementById('next-btn');
const restartBtn = document.getElementById('restart-btn');
const hintBtn = document.getElementById('hint-btn');

const questionText = document.getElementById('question-text');
const optionsContainer = document.getElementById('options-container');
const rationaleContainer = document.getElementById('rationale-container');
const rationaleText = document.getElementById('rationale-text');
const scoreText = document.getElementById('score-text');
const scoreFeedback = document.getElementById('score-feedback');
const progressText = document.getElementById('progress-text');
const progressBarInner = document.getElementById('progress-bar-inner');


let currentQuestionIndex = 0;
let score = 0;
let shuffledQuestions = [];

function startQuiz() {
    startScreen.classList.add('hidden');
    resultScreen.classList.add('hidden');
    quizScreen.classList.remove('hidden');

    currentQuestionIndex = 0;
    score = 0;
    shuffledQuestions = quizData.sort(() => Math.random() - 0.5);
    showQuestion();
}

function showQuestion() {
    resetState();
    const currentQuestion = shuffledQuestions[currentQuestionIndex];
    questionText.innerHTML = currentQuestion.question;

    const shuffledOptions = [...currentQuestion.answerOptions].sort(() => Math.random() - 0.5);

    shuffledOptions.forEach(option => {
        const button = document.createElement('button');
        button.innerHTML = option.text;
        button.classList.add('option-btn', 'w-full', 'p-4', 'border-2', 'border-gray-300', 'rounded-xl', 'text-left', 'bg-white', 'hover:bg-blue-50', 'hover:border-blue-400');
        button.dataset.correct = option.isCorrect;
        button.dataset.rationale = option.rationale;
        button.addEventListener('click', selectAnswer);
        optionsContainer.appendChild(button);
    });

    updateProgress();
}

function resetState() {
    nextBtn.disabled = true;
    optionsContainer.innerHTML = '';
    rationaleContainer.classList.remove('show');
    rationaleText.innerHTML = '';
}

function selectAnswer(e) {
    const selectedBtn = e.target;
    const isCorrect = selectedBtn.dataset.correct === 'true';

    if (isCorrect) {
        score++;
        selectedBtn.classList.add('correct-answer');
    } else {
        selectedBtn.classList.add('incorrect-answer');
    }

    Array.from(optionsContainer.children).forEach(button => {
        if (button.dataset.correct === 'true' && !isCorrect) {
            button.classList.add('correct-answer');
        }
        button.disabled = true;
    });

    rationaleText.innerHTML = `<strong>Spiegazione:</strong> ${selectedBtn.dataset.rationale}`;
    rationaleContainer.classList.add('show');
    
    nextBtn.disabled = false;
}

function showHint() {
    const currentQuestion = shuffledQuestions[currentQuestionIndex];
    rationaleText.innerHTML = `<strong>Suggerimento:</strong> ${currentQuestion.hint}`;
    rationaleContainer.classList.add('show');
}

function updateProgress() {
    progressText.innerText = `Domanda ${currentQuestionIndex + 1} / ${quizData.length}`;
    const progressPercentage = ((currentQuestionIndex + 1) / quizData.length) * 100;
    progressBarInner.style.width = `${progressPercentage}%`;
}

function showNextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < quizData.length) {
        showQuestion();
    } else {
        showResults();
    }
}

function showResults() {
    quizScreen.classList.add('hidden');
    resultScreen.classList.remove('hidden');
    scoreText.innerText = `${score} / ${quizData.length}`;

    const percentage = (score / quizData.length) * 100;
    let feedback = '';
    if (percentage === 100) {
        feedback = 'Perfetto! Conosci il flusso come le tue tasche.';
        scoreText.style.color = '#16a34a';
    } else if (percentage >= 70) {
        feedback = 'Ottimo lavoro! Hai una solida conoscenza del processo.';
        scoreText.style.color = '#2563eb';
    } else {
        feedback = 'Buon tentativo! Rivedere il manuale ti aiuter√† a chiarire i dubbi.';
        scoreText.style.color = '#f59e0b';
    }
    scoreFeedback.innerText = feedback;
}

startBtn.addEventListener('click', startQuiz);
nextBtn.addEventListener('click', showNextQuestion);
restartBtn.addEventListener('click', startQuiz);
hintBtn.addEventListener('click', showHint);

</script>
</body>
</html>
